<div class="container-fluid" ng-controller="AlbumListCtrl">
    <div class="container" ng-if="folder._embedded.directory_thumbnail.thumbnails['banner-1170x400']">
        <img ng-src="{{ folder._embedded.directory_thumbnail.thumbnails['banner-1170x400'] }}" width="1170"  class="img-responsive" />
    </div>

    <h1>
        <a href="#/{{ folder.parent.slug }}" ng-if="folder.parent" class="small">
            <i class="ion-chevron-left"></i>
            {{ folder.parent.name }}
        </a>

        {{ folder.name }}
    </h1>

    <div class="flex-container">
        <div ng-repeat="album in folder.children">
            <article class="opium-thumbnail">
                <a ng-if="album.type == 'file'"
                    href="#/{{folder.slug}}/{{ album.slug }}"
                    title="{{ album.name }}"
                    data-set-main-url="#{{ folder.path }}"
                    data-set-main-params="#{{ album.pathname }}"
                >
                    <img ng-src="{{ album.thumbnails['square-200x200'] }}" width="200" height="200" />
                </a>

                <a href="#/{{ album.slug }}" ng-if="album.type != 'file'" ng-class="{ 'no-thumbnail': !album._embedded.directory_thumbnail }">
                    <i class="ion-folder" ng-if="!album._embedded.directory_thumbnail"></i>
                    <img ng-src="{{ album._embedded.directory_thumbnail.thumbnails['square-200x200'] }}" ng-if="album._embedded.directory_thumbnail"}}" width="200" height="200" />
                </a>

                <div class="caption">
                    {{ album.name }}
                </div>

            </article>
        </div>
    </div>

    <p class="text-right">
    Total number of items: {{ folder.children.length }}
    </p>
</div>

